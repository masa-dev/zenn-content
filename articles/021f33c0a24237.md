---
title: "Windows10 ã® Git Bash ã§ peco ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¾ã§"
emoji: "ğŸ˜Š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [bash]
published: true
---

2023/1/30 bashã®é–¢æ•°ã®å†…å®¹ã‚’ä¿®æ­£

è‡ªå®…ã®Windowsã®é–‹ç™ºPCã®GitBashä¸Šã§pecoã‚’å‹•ä½œã•ã›ã‚‹ç’°å¢ƒã‚’ä½œæˆã—ã¾ã—ãŸã€‚

# ç’°å¢ƒ

- Windows 11
- Hyper ã¾ãŸã¯ Windows Terminal
- Git Bash

# æ‰‹é †1: pecoã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
ä»¥ä¸‹ã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰pecoã®å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

[https://github.com/peco/peco/releases](https://github.com/peco/peco/releases)

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã®ã¯ pecowindowsamd64.zip ã§ã™ã€‚


# æ‰‹é †2: ãƒ‘ã‚¹ã‚’é€šã™

pecoã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã€ãƒ‘ã‚¹ã®é€šã£ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã•ã›ã‚‹ã‹ã€ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™ã€‚

è‡ªåˆ†ã¯ `C:\Windows\System32`  å†…ã«ç›´æ¥exeãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã—ãŸã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ãŸã‚‰ `peco -h` ãªã©ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚

# æ‰‹é †3: .bashrcã‚’è¨­å®šã™ã‚‹

ã¨ã‚Šã‚ãˆãšpecoãŒå‹•ãã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€è‡ªåˆ†ã¯ Ctrl + R ã§èµ·å‹•ã—ãŸã„ã®ã§ã€.bashrc ã§è¨­å®šã—ã¾ã™ã€‚

`cat ~/.bashrc`ã§ .bashrc ãŒã‚ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ç„¡ã‘ã‚Œã°ã€`touch` ã‚„ `vim` ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¦ãã ã•ã„ã€‚

`vim ~/.bashrc` ã‚’å®Ÿè¡Œã—ã€ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```bash
# search history
peco-select-history() {
  local _cmd=$(HISTTIMEFORMAT= history | tac | sed -e 's/^\s*[0-9]\+\s\+//' | peco --query "$READLINE_LINE")
  READLINE_LINE="$_cmd"
  READLINE_POINT=${#_cmd}
}

bind -x '"\C-r": peco-select-history'
```

æ¬¡ã«ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ .bashrc ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚

```bash
source ~/.bashrc
```

Ctrl + R ã§ä»¥ä¸‹ã®ç”»é¢ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°å®Œäº†ã§ã™ã€‚

![PECOã®å®Ÿè¡Œç”»é¢](/images/gitbash_peco.png)

# å‚è€ƒ
> https://fisproject.jp/2015/01/peco/ \
> https://keyamb.hatenablog.com/entry/2015/05/08/074756
